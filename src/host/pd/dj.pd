#N canvas 0 27 1920 984 12;
#X declare -path f2b2f;
#X declare -path queuestream;
#X obj 51 119 cnv 20 618 311 empty empty DifferentialJoint 45 -9 0
16 #f3e6f0 #000000 0;
#X obj 53 176 md;
#X obj 111 119 do;
#X obj 441 479 mtva;
#X floatatom 53 143 4 0 0 2 SUID - - 24;
#X obj 262 -76 loadbang;
#X obj 539 996 f2b;
#X obj 383 996 f2b;
#X obj 305 996 f2b;
#X obj 617 996 f2b;
#X obj 227 996 f2b;
#X obj 175 1052 s cmdbytes;
#X obj 695 996 f2b;
#X obj 175 1026 pack \$1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0, f 84;
#X obj 461 996 f2b;
#X obj 53 7 r all_stop;
#X obj 325 47 unpack f f f f f f f f;
#X obj 485 48 unpack f f f f f f f f;
#X obj 485 16 route;
#X obj 325 16 route;
#X obj 441 436 r all_maxtva0;
#X obj 472 456 r all_maxtrq;
#X obj 566 456 r all_maxvel;
#X obj 660 456 r all_maxacc;
#X floatatom 516 118 5 0 0 2 fault - - 0;
#X floatatom 590 118 5 0 0 2 mtmp - - 0;
#X floatatom 516 137 5 0 0 2 - - - 0;
#X floatatom 590 137 5 0 0 2 - - - 0;
#X obj 357 -40 \$1, f 2;
#X obj 517 -40 expr \$1 + 1;
#X obj 104 878 t b f;
#X obj 208 878 t b f;
#X obj 247 878 t b f;
#X obj 286 878 t b f;
#X obj 325 878 t b f;
#X obj 514 878 t b f;
#X obj 553 878 t b f;
#X obj 592 878 t b f;
#X obj 104 27 r all_mode;
#X obj 111 47 r all_outpos0;
#X obj 146 7 r all_outvel0;
#X obj 218 27 r all_outvel;
#X text 447 118 left;
#X text 440 136 right;
#X obj 636 71 abs;
#X obj 476 70 abs;
#X obj 325 -76 r srpl;
#X obj 53 -50 declare -path f2b2f;
#X obj 53 -30 declare -path queuestream;
#X obj 348 -246 select 15;
#X symbolatom 553 118 5 0 0 2 encv - - 12;
#X msg 348 -223 OK, f 2;
#X obj 348 -200 pack s;
#X msg 408 -223 FAULT;
#N canvas 547 313 450 250 (subpatch) 0;
#X array \$0-arr_mtrtmp-l 50 float 0;
#X array \$0-arr_mtrtmp-r 50 float 0;
#X coords 0 70 49 20 227 61 2 0 0;
#X restore 441 185 graph;
#X obj 537 -246 select 15;
#X msg 537 -223 OK, f 2;
#X obj 537 -200 pack s;
#X msg 597 -223 FAULT;
#X symbolatom 553 137 5 0 0 0 - - - 0;
#X obj 213 -298 pack s;
#X obj 213 -370 select 0;
#X msg 213 -347 STOP;
#X obj 266 -346 select 10;
#X msg 266 -323 PM, f 2;
#X symbolatom 479 118 5 0 0 2 mode - - 0;
#X obj 452 -298 pack s;
#X obj 452 -370 select 0;
#X msg 452 -347 STOP;
#X obj 505 -347 select 10;
#X msg 505 -324 PM, f 2;
#X symbolatom 479 137 5 0 0 2 - - - 0;
#X obj 889 307 array set \$0-arr_mtrtmp-l;
#X obj 1079 307 array set \$0-arr_mtrtmp-r;
#X obj 1340 218 \$0;
#X obj 1400 195 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc
#000000 #000000;
#X obj 1340 195 loadbang;
#X msg 1404 286 \; \$1-arr_mtrtmp-l color 900;
#X msg 1594 286 \; \$1-arr_mtrtmp-r color 9;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-arr_cposdif 50 float 0;
#X array \$0-arr_cposavg 50 float 0;
#X array \$0-arr_rposdif 50 float 0;
#X array \$0-arr_rposavg 50 float 0;
#X coords 0 0.5 49 -0.5 227 61 1 0 0;
#X restore 441 246 graph;
#X obj 889 457 array set \$0-arr_rposdif;
#X obj 1079 457 array set \$0-arr_rposavg;
#X obj 889 407 array set \$0-arr_cposdif;
#X obj 1079 407 array set \$0-arr_cposavg;
#X obj 889 361 f;
#X obj 889 338 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000
#000000 0 1;
#X obj 1079 361 f;
#X obj 1079 338 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000
#000000 0 1;
#X msg 1587 404 \; \$1-arr_rposavg color 9;
#X msg 1404 404 \; \$1-arr_rposdif color 900;
#X msg 1404 366 \; \$1-arr_cposdif color 750;
#X obj 705 -66 r djrpl;
#X obj 705 16 route;
#X obj 627 126 tgl 20 0 empty empty fixing 0 -10 0 12 #fcfcfc #000000
#000000 0 1;
#X obj 889 549 f;
#X obj 889 526 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000
#000000 0 1;
#X obj 1079 549 f;
#X obj 1079 526 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000
#000000 0 1;
#N canvas 50 119 450 250 (subpatch) 0;
#X array \$0-arr_cveldif 50 float 0;
#X array \$0-arr_cvelavg 50 float 0;
#X array \$0-arr_rveldif 50 float 0;
#X array \$0-arr_rvelavg 50 float 0;
#X coords 0 0.5 49 -0.5 227 61 1 0 0;
#X restore 441 307 graph;
#X obj 889 595 array set \$0-arr_cveldif;
#X obj 889 645 array set \$0-arr_rveldif;
#X obj 1079 595 array set \$0-arr_cvelavg;
#X obj 1079 645 array set \$0-arr_rvelavg;
#X obj 889 737 array set \$0-arr_tvelrotl;
#X obj 1079 737 array set \$0-arr_tvelrotr;
#N canvas 50 119 450 250 (subpatch) 0;
#X array \$0-arr_tvelrotl 50 float 0;
#X array \$0-arr_tvelrotr 50 float 0;
#X array \$0-arr_rvelrotl 50 float 0;
#X array \$0-arr_rvelrotr 50 float 0;
#X coords 0 5 49 -5 227 61 2 0 0;
#X restore 441 368 graph;
#X msg 1587 366 \; \$1-arr_cposavg color 99;
#X msg 1404 556 \; \$1-arr_cveldif color 750;
#X msg 1587 556 \; \$1-arr_cvelavg color 99;
#X msg 1404 594 \; \$1-arr_rveldif color 900;
#X msg 1587 594 \; \$1-arr_rvelavg color 9;
#X obj 777 526 expr $f1 >= $f2;
#X obj 777 548 - 0.5;
#X obj 777 570 * 2;
#X obj 777 616 *, f 2;
#X obj 777 593 t b f;
#X obj 1254 526 expr $f1 >= $f2;
#X obj 1254 548 - 0.5;
#X obj 1254 570 * 2;
#X obj 1254 616 *;
#X obj 1254 593 t b f;
#X obj 889 787 array set \$0-arr_rvelrotl;
#X obj 1079 787 array set \$0-arr_rvelrotr;
#X msg 1404 736 \; \$1-arr_tvelrotl color 750;
#X msg 1404 774 \; \$1-arr_rvelrotl color 900;
#X msg 1597 774 \; \$1-arr_rvelrotr color 9;
#X msg 1597 736 \; \$1-arr_tvelrotr color 99;
#X symbolatom 524 162 7 0 0 0 - - - 16;
#X obj 676 -217 pack s;
#X obj 676 -358 select 1;
#X obj 676 -381 expr $f1 < 50;
#X obj 729 -266 select 1;
#X msg 782 -243 FAULT;
#X obj 729 -289 expr $f1 < 70;
#X msg 729 -243 DERATE;
#X msg 676 -335 OK, f 2;
#X obj 729 -312 f;
#X obj 676 -404 t f f;
#X obj 729 -335 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc
#000000 #000000;
#X obj 836 -217 pack s;
#X obj 836 -358 select 1;
#X obj 836 -381 expr $f1 < 50;
#X obj 889 -266 select 1;
#X msg 942 -243 FAULT;
#X obj 889 -289 expr $f1 < 70;
#X msg 889 -243 DERATE;
#X msg 836 -335 OK, f 2;
#X obj 889 -312 f;
#X obj 836 -404 t f f;
#X obj 889 -335 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc
#000000 #000000;
#X symbolatom 596 162 7 0 0 0 - - - 16;
#X obj 745 79 spigot;
#X obj 650 411 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000
#000000 0 1;
#X obj 705 48 unpack f f f;
#X obj 791 79 spigot;
#X obj 909 338 metro 100;
#X obj 1099 338 metro 100;
#X obj 909 526 metro 100;
#X obj 1099 526 metro 100;
#X obj 889 714 queuestream 50;
#X obj 889 764 queuestream 50;
#X obj 1079 714 queuestream 50;
#X obj 1079 764 queuestream 50;
#X obj 1079 572 queuestream 50;
#X obj 1079 622 queuestream 50;
#X obj 889 622 queuestream 50;
#X obj 889 572 queuestream 50;
#X obj 889 384 queuestream 50;
#X obj 889 434 queuestream 50;
#X obj 1079 384 queuestream 50;
#X obj 1079 434 queuestream 50;
#X obj 889 284 queuestream 50;
#X obj 1079 284 queuestream 50;
#X obj 875 16 route;
#X obj 875 -66 r djcrrpl;
#X obj 875 48 unpack f f f f f f f;
#X obj 155 826 spigot;
#X obj 163 777 t b f b;
#X obj 209 800 0, f 2;
#X obj 163 800 1, f 2;
#X obj 225 826 spigot;
#X obj 233 777 t b f b;
#X obj 279 800 0, f 2;
#X obj 233 800 1, f 2;
#X obj 295 826 spigot;
#X obj 303 777 t b f b;
#X obj 349 800 0, f 2;
#X obj 303 800 1, f 2;
#X obj 365 826 spigot;
#X obj 373 777 t b f b;
#X obj 419 800 0, f 2;
#X obj 373 800 1, f 2;
#X obj 495 826 spigot;
#X obj 503 777 t b f b;
#X obj 549 800 0, f 2;
#X obj 503 800 1, f 2;
#X obj 565 826 spigot;
#X obj 573 777 t b f b;
#X obj 619 800 0, f 2;
#X obj 573 800 1, f 2;
#X obj 635 826 spigot;
#X obj 643 777 t b f b;
#X obj 689 800 0, f 2;
#X obj 643 800 1, f 2;
#X obj 341 703 loadbang;
#X msg 386 -300 FAULT;
#X obj 326 -323 select 15;
#X msg 326 -300 BRAKE;
#X msg 625 -301 FAULT;
#X obj 565 -324 select 15;
#X msg 565 -301 BRAKE;
#X connect 1 1 30 0;
#X connect 2 0 84 1;
#X connect 2 0 111 0;
#X connect 2 0 31 0;
#X connect 2 1 114 0;
#X connect 2 1 32 0;
#X connect 2 2 86 1;
#X connect 2 2 116 0;
#X connect 2 2 33 0;
#X connect 2 3 119 0;
#X connect 2 3 34 0;
#X connect 3 1 35 0;
#X connect 3 2 36 0;
#X connect 3 3 37 0;
#X connect 5 0 28 0;
#X connect 5 0 29 0;
#X connect 6 0 13 19;
#X connect 6 1 13 20;
#X connect 6 2 13 21;
#X connect 6 3 13 22;
#X connect 7 0 13 11;
#X connect 7 1 13 12;
#X connect 7 2 13 13;
#X connect 7 3 13 14;
#X connect 8 0 13 7;
#X connect 8 1 13 8;
#X connect 8 2 13 9;
#X connect 8 3 13 10;
#X connect 9 0 13 23;
#X connect 9 1 13 24;
#X connect 9 2 13 25;
#X connect 9 3 13 26;
#X connect 10 0 13 3;
#X connect 10 1 13 4;
#X connect 10 2 13 5;
#X connect 10 3 13 6;
#X connect 12 0 13 27;
#X connect 12 1 13 28;
#X connect 12 2 13 29;
#X connect 12 3 13 30;
#X connect 13 0 11 0;
#X connect 14 0 13 15;
#X connect 14 1 13 16;
#X connect 14 2 13 17;
#X connect 14 3 13 18;
#X connect 15 0 1 0;
#X connect 16 0 61 0;
#X connect 16 1 24 0;
#X connect 16 2 49 0;
#X connect 16 3 3 5;
#X connect 16 3 160 0;
#X connect 16 4 3 2;
#X connect 16 5 2 6;
#X connect 16 5 111 1;
#X connect 16 5 168 0;
#X connect 16 6 25 0;
#X connect 16 6 137 0;
#X connect 16 6 171 0;
#X connect 16 7 45 0;
#X connect 16 7 165 0;
#X connect 17 0 67 0;
#X connect 17 1 26 0;
#X connect 17 2 55 0;
#X connect 17 3 3 6;
#X connect 17 3 162 0;
#X connect 17 4 3 3;
#X connect 17 5 2 8;
#X connect 17 5 116 1;
#X connect 17 5 170 0;
#X connect 17 6 27 0;
#X connect 17 6 148 0;
#X connect 17 6 172 0;
#X connect 17 7 44 0;
#X connect 17 7 164 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 20 0 3 0;
#X connect 21 0 3 1;
#X connect 22 0 3 4;
#X connect 23 0 3 7;
#X connect 28 0 4 0;
#X connect 28 0 19 1;
#X connect 28 0 92 1;
#X connect 28 0 173 1;
#X connect 29 0 18 1;
#X connect 30 0 13 0;
#X connect 30 1 13 2;
#X connect 31 0 176 0;
#X connect 31 1 10 0;
#X connect 32 0 180 0;
#X connect 32 1 8 0;
#X connect 33 0 184 0;
#X connect 33 1 7 0;
#X connect 34 0 188 0;
#X connect 34 1 14 0;
#X connect 35 0 192 0;
#X connect 35 1 6 0;
#X connect 36 0 196 0;
#X connect 36 1 9 0;
#X connect 37 0 200 0;
#X connect 37 1 12 0;
#X connect 38 0 1 1;
#X connect 39 0 2 0;
#X connect 40 0 2 1;
#X connect 41 0 2 3;
#X connect 41 0 2 5;
#X connect 44 0 2 9;
#X connect 45 0 2 7;
#X connect 46 0 19 0;
#X connect 46 0 18 0;
#X connect 49 0 51 0;
#X connect 49 1 53 0;
#X connect 51 0 52 0;
#X connect 52 0 50 0;
#X connect 53 0 52 0;
#X connect 55 0 56 0;
#X connect 55 1 58 0;
#X connect 56 0 57 0;
#X connect 57 0 59 0;
#X connect 58 0 57 0;
#X connect 60 0 65 0;
#X connect 61 0 62 0;
#X connect 61 1 63 0;
#X connect 62 0 60 0;
#X connect 63 0 64 0;
#X connect 63 1 206 0;
#X connect 64 0 60 0;
#X connect 66 0 71 0;
#X connect 67 0 68 0;
#X connect 67 1 69 0;
#X connect 68 0 66 0;
#X connect 69 0 70 0;
#X connect 69 1 209 0;
#X connect 70 0 66 0;
#X connect 74 0 77 0;
#X connect 74 0 78 0;
#X connect 74 0 90 0;
#X connect 74 0 106 0;
#X connect 74 0 88 0;
#X connect 74 0 89 0;
#X connect 74 0 107 0;
#X connect 74 0 109 0;
#X connect 74 0 108 0;
#X connect 74 0 110 0;
#X connect 74 0 123 0;
#X connect 74 0 124 0;
#X connect 74 0 126 0;
#X connect 74 0 125 0;
#X connect 75 0 74 0;
#X connect 76 0 74 0;
#X connect 84 0 167 0;
#X connect 85 0 155 0;
#X connect 86 0 169 0;
#X connect 87 0 156 0;
#X connect 91 0 92 0;
#X connect 92 0 153 0;
#X connect 94 0 166 0;
#X connect 95 0 157 0;
#X connect 96 0 163 0;
#X connect 97 0 158 0;
#X connect 111 0 112 0;
#X connect 112 0 113 0;
#X connect 113 0 115 0;
#X connect 114 0 94 1;
#X connect 115 0 114 0;
#X connect 115 1 114 1;
#X connect 116 0 117 0;
#X connect 117 0 118 0;
#X connect 118 0 120 0;
#X connect 119 0 96 1;
#X connect 120 0 119 0;
#X connect 120 1 119 1;
#X connect 128 0 127 0;
#X connect 129 0 135 0;
#X connect 129 1 138 0;
#X connect 130 0 129 0;
#X connect 131 0 134 0;
#X connect 131 1 132 0;
#X connect 132 0 128 0;
#X connect 133 0 131 0;
#X connect 134 0 128 0;
#X connect 135 0 128 0;
#X connect 136 0 133 0;
#X connect 137 0 130 0;
#X connect 137 1 136 1;
#X connect 138 0 136 0;
#X connect 139 0 150 0;
#X connect 140 0 146 0;
#X connect 140 1 149 0;
#X connect 141 0 140 0;
#X connect 142 0 145 0;
#X connect 142 1 143 0;
#X connect 143 0 139 0;
#X connect 144 0 142 0;
#X connect 145 0 139 0;
#X connect 146 0 139 0;
#X connect 147 0 144 0;
#X connect 148 0 141 0;
#X connect 148 1 147 1;
#X connect 149 0 147 0;
#X connect 151 0 159 0;
#X connect 152 0 151 1;
#X connect 152 0 85 0;
#X connect 152 0 87 0;
#X connect 152 0 95 0;
#X connect 152 0 97 0;
#X connect 152 0 154 1;
#X connect 153 0 93 0;
#X connect 153 1 151 0;
#X connect 153 2 154 0;
#X connect 154 0 161 0;
#X connect 155 0 84 0;
#X connect 156 0 86 0;
#X connect 157 0 94 0;
#X connect 158 0 96 0;
#X connect 159 0 103 0;
#X connect 160 0 121 0;
#X connect 161 0 104 0;
#X connect 162 0 122 0;
#X connect 163 0 101 0;
#X connect 164 0 102 0;
#X connect 165 0 100 0;
#X connect 166 0 99 0;
#X connect 167 0 82 0;
#X connect 168 0 80 0;
#X connect 169 0 83 0;
#X connect 170 0 81 0;
#X connect 171 0 72 0;
#X connect 172 0 73 0;
#X connect 173 0 175 0;
#X connect 174 0 173 0;
#X connect 175 0 177 0;
#X connect 175 1 181 0;
#X connect 175 2 185 0;
#X connect 175 3 189 0;
#X connect 175 4 193 0;
#X connect 175 5 197 0;
#X connect 175 6 201 0;
#X connect 176 0 13 0;
#X connect 177 0 179 0;
#X connect 177 1 2 2;
#X connect 177 2 178 0;
#X connect 178 0 176 1;
#X connect 179 0 176 1;
#X connect 180 0 13 0;
#X connect 181 0 183 0;
#X connect 181 1 2 3;
#X connect 181 2 182 0;
#X connect 182 0 180 1;
#X connect 183 0 180 1;
#X connect 184 0 13 0;
#X connect 185 0 187 0;
#X connect 185 1 2 4;
#X connect 185 2 186 0;
#X connect 186 0 184 1;
#X connect 187 0 184 1;
#X connect 188 0 13 0;
#X connect 189 0 191 0;
#X connect 189 1 2 5;
#X connect 189 2 190 0;
#X connect 190 0 188 1;
#X connect 191 0 188 1;
#X connect 192 0 13 0;
#X connect 193 0 195 0;
#X connect 193 1 3 1;
#X connect 193 2 194 0;
#X connect 194 0 192 1;
#X connect 195 0 192 1;
#X connect 196 0 13 0;
#X connect 197 0 199 0;
#X connect 197 1 3 4;
#X connect 197 2 198 0;
#X connect 198 0 196 1;
#X connect 199 0 196 1;
#X connect 200 0 13 0;
#X connect 201 0 203 0;
#X connect 201 1 3 7;
#X connect 201 2 202 0;
#X connect 202 0 200 1;
#X connect 203 0 200 1;
#X connect 204 0 179 0;
#X connect 204 0 183 0;
#X connect 204 0 187 0;
#X connect 204 0 191 0;
#X connect 204 0 195 0;
#X connect 204 0 199 0;
#X connect 204 0 203 0;
#X connect 205 0 60 0;
#X connect 206 0 207 0;
#X connect 206 1 205 0;
#X connect 207 0 60 0;
#X connect 208 0 66 0;
#X connect 209 0 210 0;
#X connect 209 1 208 0;
#X connect 210 0 66 0;
#X coords 0 -1 1 1 620 331 1 50 100;
